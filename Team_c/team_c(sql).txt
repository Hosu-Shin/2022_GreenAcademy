CREATE DATABASE cafe;

CREATE TABLE cafe_host(
   u_num INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
   email VARCHAR(30) UNIQUE NOT NULL,
   pw VARCHAR(20) NOT NULL,
   join_date DATE DEFAULT CURRENT_TIMESTAMP,
   name VARCHAR(10) NOT NULL
);

CREATE TABLE cafe (
   cafe_num INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
   u_num INT UNSIGNED NOT NULL,
   cafe VARCHAR(20) NOT NULL,
   addr VARCHAR(40) NOT NULL,
   zone_num INT UNSIGNED NOT NULL,
   view INT UNSIGNED NOT NULL  DEFAULT '0',
   tel CHAR(11) NOT NULL,
   created_at DATE DEFAULT CURRENT_TIMESTAMP,
   img VARCHAR(100) NOT NULL,
   open_time TIME,
   holiday VARCHAR(3),
   insta VARCHAR(2048),
   FOREIGN KEY (u_num) REFERENCES cafe_host (u_num),
   FOREIGN KEY (zone_num) REFERENCES zone (zone_num)
);   

CREATE TABLE menu (
   menu_num INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
   cafe_num INT UNSIGNED NOT NULL,
   menu VARCHAR(15) NOT NULL,
   won INT UNSIGNED NOT NULL,
   FOREIGN KEY (cafe_num) REFERENCES cafe (cafe_num)
);

CREATE TABLE zone(
   zone_num INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
   zone_nm VARCHAR(5) NOT NULL,
   img VARCHAR(100) NOT NULL
);
